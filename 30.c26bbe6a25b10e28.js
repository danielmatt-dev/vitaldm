"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[30],{5030:(Q,D,p)=>{p.r(D),p.d(D,{NotificationModule:()=>z});var g=p(5779),C=p(177),t=p(491),h=p(1141),j=p(563),b=p(5366),x=p(2242),N=p(1570),I=p(8266),v=p(4341),G=p(9883),M=p(1305),O=p(7722),R=p(3607),T=p(467),P=p(8404),e=p(4438),F=p(7693),L=p(3571),w=p(4799);const B=["filter"],S=()=>["idNotificacion","titulo","tipoPrograma","descripcion","tipo","prioridad"],A=()=>({width:"35rem",height:"40rem","max-width":"40rem","overflow-x":"hidden"}),E=()=>({width:"100%"});function V(_,y){if(1&_){const o=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"button",35),e.bIt("click",function(){e.eBV(o);const a=e.XpG(),d=e.sdS(12);return e.Njj(a.clear(d))}),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.recargarListaNotificaciones(!0))}),e.k0s()(),e.j41(4,"span",37),e.nrm(5,"i",38),e.j41(6,"input",39,1),e.bIt("input",function(a){e.eBV(o);const d=e.XpG(),u=e.sdS(12);return e.Njj(d.onGlobalFilter(u,a))}),e.k0s()()()}}function Y(_,y){1&_&&(e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",41),e.EFF(4,"ID"),e.k0s(),e.j41(5,"th",42),e.EFF(6,"T\xedtulo"),e.k0s(),e.j41(7,"th",42),e.EFF(8,"Grupo"),e.k0s(),e.j41(9,"th",43),e.EFF(10,"Descripci\xf3n"),e.k0s(),e.j41(11,"th",44),e.EFF(12,"Tipo"),e.k0s(),e.j41(13,"th",42),e.EFF(14,"Prioridad"),e.k0s()())}function $(_,y){if(1&_){const o=e.RV6();e.j41(0,"tr",45),e.bIt("click",function(){const a=e.eBV(o).$implicit,d=e.XpG();return e.Njj(d.onRowClick(a))})("keydown.enter",function(){const a=e.eBV(o).$implicit,d=e.XpG();return e.Njj(d.onRowClick(a))}),e.j41(1,"td",46),e.bIt("click",function(a){return e.eBV(o),e.Njj(a.stopPropagation())})("keydown.enter",function(a){return e.eBV(o),e.Njj(a.stopPropagation())}),e.nrm(2,"p-tableCheckbox",47),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s()()}if(2&_){const o=y.$implicit;e.R7$(2),e.Y8G("value",o),e.R7$(2),e.JRh(o.idNotificacion),e.R7$(2),e.JRh(o.titulo),e.R7$(2),e.JRh(o.getGrupo()),e.R7$(2),e.JRh(o.descripcion),e.R7$(2),e.JRh(o.tipo),e.R7$(2),e.JRh(o.prioridad)}}function X(_,y){1&_&&(e.j41(0,"tr")(1,"td",48),e.EFF(2,"No se encontraron notificaciones"),e.k0s()())}function H(_,y){1&_&&(e.j41(0,"tr")(1,"td",48),e.EFF(2,"Cargando datos. Por favor espere."),e.k0s()())}let U=(()=>{class _{constructor(o,s,a,d,u){this.layoutService=o,this.primeNGConfig=s,this.remote=a,this.messageService=d,this.confirmationService=u,this.loading=!0,this.visible=!1,this.selectedNotificaciones=[],this.idNotificacion=void 0,this.grupos={General:"General","Grupo 1 - Diab\xe9tico Descontrolado":"Descontrolado","Grupo 2 - Pluripatolog\xeda":"Multidiagn\xf3stico","Grupo 3 - Ejercicio y Alimentaci\xf3n":"Actividad f\xedsica","Grupo 4 - Apoyo":"Apoyo emocional"},this.tiposNotificacion=["Recomendaci\xf3n","Sugerencia","Aclaraci\xf3n"],this.prioridades=["Alta","Media","Baja"],this.programas=Object.keys(this.grupos)}ngOnInit(){var o=this;return(0,T.A)(function*(){o.primeNGConfig.ripple=!0;const s=yield o.remote.buscarNotificacionesGenerales();"Right"===s._tag&&(o.notificaciones=o.limpiarNotificaciones(s.right)),"Left"===s._tag&&(o.notificaciones=[]),o.loading=!1})()}recargarListaNotificaciones(o){var s=this;return(0,T.A)(function*(){const a=yield s.remote.buscarNotificacionesGenerales();"Right"===a._tag&&(s.notificaciones=s.limpiarNotificaciones(a.right),o&&s.mensageAlerta({title:"\xc9xito",message:"Lista de notificaciones actualizada",type:"success"})),"Left"===a._tag&&s.mensageAlerta({title:"Ocurri\xf3 un problema al intentar recargar la lista de notificaciones",message:"Por favor, verifica tu conexi\xf3n a internet e int\xe9ntalo nuevamente",type:"error",life:5e3}),s.loading=!1})()}limpiarNotificaciones(o){return o.forEach(s=>{"General"===s.prioridad&&(s.tipoPrograma="General")}),o.sort((s,a)=>s.idNotificacion&&a.idNotificacion?s.idNotificacion-a.idNotificacion:0)}onRowClick(o){this.idNotificacion=o.idNotificacion,this.tituloNotificacion=o.titulo,this.descripcionNotificacion=o.descripcion,this.selectedPrograma=o.getGrupo(),this.selectedPrioridad=o.prioridad,this.selectedTipoNotificacion=o.tipo,this.showDialog()}guardarNotificacion(){var o=this;return(0,T.A)(function*(){if(!o.validarNotificacion())return;const s=new P.S({idNotificacion:o.idNotificacion,titulo:o.tituloNotificacion,tipo:o.selectedTipoNotificacion,prioridad:o.selectedPrioridad,tipoPrograma:"General"===o.selectedPrioridad?void 0:o.grupos[o.selectedPrograma],descripcion:o.descripcionNotificacion}),a=yield o.remote.nuevaNotificacion(s);"Right"===a._tag&&(o.mensageAlerta({title:"\xc9xito",message:"Notificaci\xf3n guardada con \xe9xito",type:"success"}),yield o.recargarListaNotificaciones(!1)),"Left"===a._tag&&o.mensageAlerta({title:"Ocurri\xf3 un problema al intentar guardar la notificaci\xf3n",message:"Por favor, verifica tu conexi\xf3n a internet e int\xe9ntalo nuevamente",type:"error",life:5e3}),o.cerrarVentanaNotificacion()})()}validarNotificacion(){let o="";return this.tituloNotificacion&&""!==this.tituloNotificacion.trim()?this.tituloNotificacion.trim().length>50?(o='El campo "T\xedtulo" no puede exceder los 50 caracteres',this.mensageAlerta({message:o}),!1):this.selectedTipoNotificacion&&""!==this.selectedTipoNotificacion.trim()?this.selectedPrioridad&&""!==this.selectedPrioridad.trim()?"General"==this.selectedPrioridad||this.selectedPrograma&&""!==this.selectedPrograma.trim()?this.descripcionNotificacion&&""!==this.descripcionNotificacion.trim()?!(this.descripcionNotificacion.trim().length>199&&(o='El campo "Descripci\xf3n" no puede exceder los 199 caracteres',this.mensageAlerta({message:o}),1)):(o='El campo "Descripci\xf3n" es obligatorio y no puede estar vac\xedo',this.mensageAlerta({message:o}),!1):(o='Por favor, selecciona una opci\xf3n v\xe1lida en el campo "Programa"',this.mensageAlerta({message:o}),!1):(o='Por favor, selecciona una opci\xf3n v\xe1lida en el campo "Prioridad"',this.mensageAlerta({message:o}),!1):(o='Por favor, selecciona una opci\xf3n v\xe1lida en el campo "Tipo de notificaci\xf3n"',this.mensageAlerta({message:o}),!1):(o='El campo "T\xedtulo" es obligatorio y no puede estar vac\xedo',this.mensageAlerta({message:o}),!1)}showConfirmDialog(){var o=this;return(0,T.A)(function*(){var s;o.confirmationService.confirm({message:"\xbfEst\xe1s seguro de que deseas eliminar las notificaciones seleccionadas?",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed, eliminar",rejectLabel:"Cancelar",accept:(s=(0,T.A)(function*(){yield o.eliminarNotificaciones()}),function(){return s.apply(this,arguments)})})})()}eliminarNotificaciones(){var o=this;return(0,T.A)(function*(){0===o.selectedNotificaciones.length&&o.mensageAlerta({message:"Debe seleccionar al menos una notificaci\xf3n"});const s=yield o.remote.deshabilitarNotificaciones(o.selectedNotificaciones.map(a=>a.idNotificacion));"Right"===s._tag&&(o.mensageAlerta({title:"\xc9xito",message:"Notificaciones eliminadas con \xe9xito",type:"success"}),yield o.recargarListaNotificaciones(!1)),"Left"===s._tag&&o.mensageAlerta({title:"Ocurri\xf3 un problema al intentar eliminar la notificaci\xf3n",message:"Por favor, verifica tu conexi\xf3n a internet e int\xe9ntalo nuevamente",type:"error",life:4e3})})()}showDialog(){this.visible=!0}cerrarVentanaNotificacion(){this.visible=!1,this.idNotificacion=void 0,this.tituloNotificacion="",this.descripcionNotificacion="",this.selectedPrioridad="",this.selectedPrograma="",this.selectedTipoNotificacion=""}clear(o){o.clear(),this.filter.nativeElement.value=""}onGlobalFilter(o,s){o.filterGlobal(s.target.value,"contains")}mensageAlerta({title:o="Alerta",message:s,type:a="warn",life:d=4e3}){this.messageService.add({severity:a,summary:o,detail:s,life:d})}static{this.\u0275fac=function(s){return new(s||_)(e.rXU(F.Y),e.rXU(g.r1),e.rXU(L.S),e.rXU(g.bg),e.rXU(g.td))}}static{this.\u0275cmp=e.VBU({type:_,selectors:[["app-notification"]],viewQuery:function(s,a){if(1&s&&e.GBs(B,5),2&s){let d;e.mGM(d=e.lsd())&&(a.filter=d.first)}},decls:56,vars:34,consts:[["dt2",""],["filter",""],[1,"flex","flex-column","border-round-2xl","w-full","mx-0","px-0"],[1,"card","mb-0","shadow-2"],[1,"flex","flex-wrap","justify-content-between","align-items-center"],[1,"font-semibold","text-500","text-3xl"],[1,"botones-acciones"],["pButton","","label","Nueva notificaci\xf3n","icon","pi pi-bell",1,"p-button-outlined","mb-2","custom-excel-button",3,"click"],["pButton","","label","Eliminar notificaciones","icon","pi pi-trash",1,"p-button-outlined","mb-2","custom-delete-button",3,"click","disabled"],[1,"md:mt-3"],["dataKey","idNotificacion","responsiveLayout","scroll","selectionMode","multiple",3,"selectionChange","value","rows","loading","rowHover","paginator","globalFilterFields","selection"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["header","Nueva notificaci\xf3n",3,"visibleChange","onHide","modal","visible"],[1,"flex","flex-wrap","flex-column","justify-content-center","mx-3","my-3"],[1,"flex","flex-wrap","flex-column"],[1,"flex","flex-wrap","justify-content-start","mb-2"],[1,"font-semibold","text-lg"],[1,"flex","flex-wrap"],["type","text","pInputText","","placeholder","Escribe un t\xedtulo breve...","maxlength","50",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","flex-wrap","flex-column","my-3"],[1,"w-full"],["placeholder","Seleccione el tipo de notificaci\xf3n",3,"ngModelChange","options","ngModel"],["placeholder","Seleccione la prioridad",1,"min-w-full",3,"ngModelChange","options","ngModel","disabled"],["placeholder","Seleccione el programa de salud",1,"min-w-full",3,"ngModelChange","options","ngModel","disabled"],["rows","8","cols","55","pInputTextarea","","placeholder","Proporcione una descripci\xf3n detallada...","maxlength","199",1,"w-full",2,"resize","none",3,"ngModelChange","ngModel"],[1,"flex","flex-wrap","flex-row","justify-content-end","mt-6"],[1,"flex","mr-3"],["label","Cancelar","severity","danger",3,"onClick","outlined"],["label","Guardar",3,"onClick"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],[1,"flex","gap-2"],["pButton","","label","Limpiar filtro","icon","pi pi-trash",1,"p-button-outlined","mb-2",3,"click"],["pButton","","label","Recargar","icon","pi pi-refresh",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar ID, T\xedtulo, Grupo, Prioridad...",1,"w-full",3,"input"],["id","check",2,"width","3rem"],["scope","col",2,"min-width","6rem"],["scope","col",2,"min-width","10rem"],["scope","col",2,"min-width","8rem"],["scope","col",2,"min-width","12rem"],["tabindex","0",1,"cursor-pointer",3,"click","keydown.enter"],["tabindex","0",3,"click","keydown.enter"],[3,"value"],["colspan","11"]],template:function(s,a){if(1&s){const d=e.RV6();e.nrm(0,"p-toast")(1,"p-confirmDialog"),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),e.EFF(6,"Notificaciones"),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return e.eBV(d),e.Njj(a.showDialog())}),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){return e.eBV(d),e.Njj(a.showConfirmDialog())}),e.k0s()()(),e.j41(10,"div",9)(11,"p-table",10,0),e.mxI("selectionChange",function(m){return e.eBV(d),e.DH7(a.selectedNotificaciones,m)||(a.selectedNotificaciones=m),e.Njj(m)}),e.DNE(13,V,8,0,"ng-template",11)(14,Y,15,0,"ng-template",12)(15,$,15,7,"ng-template",13)(16,X,3,0,"ng-template",14)(17,H,3,0,"ng-template",15),e.k0s()()()(),e.j41(18,"p-dialog",16),e.mxI("visibleChange",function(m){return e.eBV(d),e.DH7(a.visible,m)||(a.visible=m),e.Njj(m)}),e.bIt("onHide",function(){return e.eBV(d),e.Njj(a.cerrarVentanaNotificacion())}),e.j41(19,"div",17)(20,"div",18)(21,"div",19)(22,"p",20),e.EFF(23,"T\xedtulo"),e.k0s()(),e.j41(24,"div",21)(25,"input",22),e.mxI("ngModelChange",function(m){return e.eBV(d),e.DH7(a.tituloNotificacion,m)||(a.tituloNotificacion=m),e.Njj(m)}),e.k0s()()(),e.j41(26,"div",23)(27,"div",19)(28,"p",20),e.EFF(29,"Tipo de notificaci\xf3n"),e.k0s()(),e.j41(30,"div",24)(31,"p-dropdown",25),e.mxI("ngModelChange",function(m){return e.eBV(d),e.DH7(a.selectedTipoNotificacion,m)||(a.selectedTipoNotificacion=m),e.Njj(m)}),e.k0s()()(),e.j41(32,"div",23)(33,"div",19)(34,"p",20),e.EFF(35,"Prioridad"),e.k0s()(),e.j41(36,"div",24)(37,"p-dropdown",26),e.mxI("ngModelChange",function(m){return e.eBV(d),e.DH7(a.selectedPrioridad,m)||(a.selectedPrioridad=m),e.Njj(m)}),e.k0s()()(),e.j41(38,"div",23)(39,"div",19)(40,"p",20),e.EFF(41,"Programa"),e.k0s()(),e.j41(42,"div",24)(43,"p-dropdown",27),e.mxI("ngModelChange",function(m){return e.eBV(d),e.DH7(a.selectedPrograma,m)||(a.selectedPrograma=m),e.Njj(m)}),e.k0s()()(),e.j41(44,"div",18)(45,"div",19)(46,"p",20),e.EFF(47,"Descripci\xf3n"),e.k0s()(),e.j41(48,"div",21)(49,"textarea",28),e.mxI("ngModelChange",function(m){return e.eBV(d),e.DH7(a.descripcionNotificacion,m)||(a.descripcionNotificacion=m),e.Njj(m)}),e.EFF(50,"                "),e.k0s()()(),e.j41(51,"div",29)(52,"div",30)(53,"p-button",31),e.bIt("onClick",function(){return e.eBV(d),e.Njj(a.cerrarVentanaNotificacion())}),e.k0s()(),e.j41(54,"div")(55,"p-button",32),e.bIt("onClick",function(){return e.eBV(d),e.Njj(a.guardarNotificacion())}),e.k0s()()()()()}2&s&&(e.R7$(9),e.Y8G("disabled",0===a.selectedNotificaciones.length),e.R7$(2),e.Y8G("value",a.notificaciones)("rows",30)("loading",a.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.lJ4(29,S)),e.R50("selection",a.selectedNotificaciones),e.R7$(7),e.Aen(e.lJ4(30,A)),e.Y8G("modal",!0),e.R50("visible",a.visible),e.R7$(7),e.R50("ngModel",a.tituloNotificacion),e.R7$(6),e.Aen(e.lJ4(31,E)),e.Y8G("options",a.tiposNotificacion),e.R50("ngModel",a.selectedTipoNotificacion),e.R7$(6),e.Aen(e.lJ4(32,E)),e.Y8G("options",a.prioridades),e.R50("ngModel",a.selectedPrioridad),e.Y8G("disabled","General"===a.selectedPrioridad),e.R7$(6),e.Aen(e.lJ4(33,E)),e.Y8G("options",a.programas),e.R50("ngModel",a.selectedPrograma),e.Y8G("disabled","General"===a.selectedPrioridad),e.R7$(6),e.R50("ngModel",a.descripcionNotificacion),e.R7$(4),e.Y8G("outlined",!0))},dependencies:[w.T,h._f,h.$n,g.Ei,b.XI,b.S9,b.nA,x.S,N.l,v.me,v.BC,v.tU,v.vS,G.ms,M.Z,O.y8],styles:['@charset "UTF-8";.agregar-paciente[_ngcontent-%COMP%]{background-color:#219ebc}.button-agregar-paciente[_ngcontent-%COMP%]{background-color:#47c7f6;border-color:#47c7f6}.agregar-recomendacion[_ngcontent-%COMP%]{background-color:#fb8500}.button-agregar-recomendacion[_ngcontent-%COMP%]{background-color:#faae51;border-color:#faae51}.no-border[_ngcontent-%COMP%]{border:none;padding:0;background:none;font:inherit;color:inherit;text-align:left;cursor:pointer}.no-border[_ngcontent-%COMP%]:focus{outline:none;text-decoration:underline}.quick-access[_ngcontent-%COMP%]{overflow:hidden;max-height:0;opacity:0;transition:max-height .3s ease-out,opacity .3s ease-out}.quick-access.show[_ngcontent-%COMP%]{max-height:500px;opacity:1}.quick-access[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.quick-access[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.custom-excel-button[_ngcontent-%COMP%]{border-color:#fb8500;color:#fb8500;background-color:transparent;transition:all .3s ease}.custom-excel-button[_ngcontent-%COMP%]:hover{background-color:#fb8500;color:#fff;border-color:#fb8500}.notificaciones-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.botones-acciones[_ngcontent-%COMP%]{display:flex;gap:.5rem}.custom-delete-button[_ngcontent-%COMP%]{border-color:#e63946;color:#e63946;background-color:transparent;transition:all .3s ease}.custom-delete-button[_ngcontent-%COMP%]:hover{background-color:#e63946;color:#fff;border-color:#e63946}.acciones-cell[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;height:100%;padding:0}.acciones-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.custom-confirm-dialog[_ngcontent-%COMP%]   .p-confirm-dialog-reject[_ngcontent-%COMP%]{@apply p-button-outlined p-button-secondary;}']})}}return _})(),J=(()=>{class _{static{this.\u0275fac=function(s){return new(s||_)}}static{this.\u0275mod=e.$C({type:_})}static{this.\u0275inj=e.G2t({imports:[R.iI.forChild([{path:"",component:U}]),R.iI]})}}return _})(),z=(()=>{class _{static{this.\u0275fac=function(s){return new(s||_)}}static{this.\u0275mod=e.$C({type:_})}static{this.\u0275inj=e.G2t({providers:[g.bg,g.td],imports:[C.MD,J,w.F,t.D,h.tm,j.Z,b.bG,x.u,N.P,I.P,v.YN,G.kr,M.f,O.MB]})}}return _})()},4799:(Q,D,p)=>{p.d(D,{F:()=>_t,T:()=>mt});var g=p(9969),C=p(177),t=p(4438),h=p(5779),j=p(1141),b=p(1455),x=p(3306),N=p(1512),I=p(563),v=p(4420);const G=["content"],M=[[["p-footer"]]],O=["p-footer"],R=n=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}),T=(n,l)=>({transform:n,transition:l}),P=n=>({value:"visible",params:n}),e=n=>({$implicit:n}),F=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function L(n,l){1&n&&t.eu8(0)}function w(n,l){if(1&n&&(t.qex(0),t.DNE(1,L,1,0,"ng-container",7),t.bVm()),2&n){const i=t.XpG(3);t.R7$(),t.Y8G("ngTemplateOutlet",i.headlessTemplate)("ngTemplateOutletContext",t.eq3(2,e,i.confirmation))}}function B(n,l){1&n&&t.eu8(0)}function S(n,l){if(1&n&&(t.j41(0,"div",14),t.DNE(1,B,1,0,"ng-container",15),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngTemplateOutlet",i.headerTemplate)}}function A(n,l){if(1&n&&(t.j41(0,"span",19),t.EFF(1),t.k0s()),2&n){const i=t.XpG(5);t.Y8G("id",i.getAriaLabelledBy()),t.R7$(),t.JRh(i.option("header"))}}function E(n,l){if(1&n){const i=t.RV6();t.j41(0,"button",20),t.bIt("click",function(r){t.eBV(i);const f=t.XpG(5);return t.Njj(f.close(r))})("keydown.enter",function(r){t.eBV(i);const f=t.XpG(5);return t.Njj(f.close(r))}),t.nrm(1,"TimesIcon"),t.k0s()}if(2&n){const i=t.XpG(5);t.Y8G("ngClass",t.lJ4(2,F)),t.BMQ("aria-label",i.closeAriaLabel)}}function V(n,l){if(1&n&&(t.j41(0,"div",14),t.DNE(1,A,2,2,"span",16),t.j41(2,"div",17),t.DNE(3,E,2,3,"button",18),t.k0s()()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.option("header")),t.R7$(2),t.Y8G("ngIf",i.closable)}}function Y(n,l){if(1&n&&t.nrm(0,"i",3),2&n){const i=t.XpG(4);t.HbH(i.option("icon")),t.Y8G("ngClass","p-confirm-dialog-icon")}}function $(n,l){}function X(n,l){1&n&&t.DNE(0,$,0,0,"ng-template")}function H(n,l){if(1&n&&(t.qex(0),t.DNE(1,X,1,0,null,15),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngTemplateOutlet",i.iconTemplate)}}function U(n,l){if(1&n&&t.nrm(0,"span",21),2&n){const i=t.XpG(4);t.Y8G("innerHTML",i.option("message"),t.npT)}}function J(n,l){}function z(n,l){1&n&&t.DNE(0,J,0,0,"ng-template")}function _(n,l){if(1&n&&(t.qex(0),t.DNE(1,z,1,0,null,7),t.bVm()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngTemplateOutlet",i.messageTemplate)("ngTemplateOutletContext",t.eq3(2,e,i.confirmation))}}function y(n,l){1&n&&t.eu8(0)}function o(n,l){if(1&n&&(t.j41(0,"div",22),t.SdG(1),t.DNE(2,y,1,0,"ng-container",15),t.k0s()),2&n){const i=t.XpG(4);t.R7$(2),t.Y8G("ngTemplateOutlet",i.footerTemplate)}}function s(n,l){if(1&n&&t.nrm(0,"i"),2&n){const i=t.XpG(7);t.HbH(i.option("rejectIcon"))}}function a(n,l){1&n&&t.nrm(0,"TimesIcon",28),2&n&&t.Y8G("styleClass","p-button-icon-left")}function d(n,l){if(1&n&&(t.qex(0),t.DNE(1,s,1,2,"i",26)(2,a,1,1,"TimesIcon",27),t.bVm()),2&n){const i=t.XpG(6);t.R7$(),t.Y8G("ngIf",i.option("rejectIcon")),t.R7$(),t.Y8G("ngIf",!i.option("rejectIcon"))}}function u(n,l){}function m(n,l){1&n&&t.DNE(0,u,0,0,"ng-template")}function Z(n,l){if(1&n&&(t.j41(0,"span",29),t.DNE(1,m,1,0,null,15),t.k0s()),2&n){const i=t.XpG(6);t.R7$(),t.Y8G("ngTemplateOutlet",i.rejectIconTemplate)}}function W(n,l){if(1&n){const i=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(i);const r=t.XpG(5);return t.Njj(r.reject())}),t.DNE(1,d,3,2,"ng-container",11)(2,Z,2,1,"span",25),t.k0s()}if(2&n){const i=t.XpG(5);t.HbH(i.option("rejectButtonStyleClass")),t.Y8G("label",i.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),t.BMQ("aria-label",i.rejectAriaLabel),t.R7$(),t.Y8G("ngIf",!i.rejectIconTemplate),t.R7$(),t.Y8G("ngIf",i.rejectIconTemplate)}}function q(n,l){if(1&n&&t.nrm(0,"i"),2&n){const i=t.XpG(7);t.HbH(i.option("acceptIcon"))}}function tt(n,l){1&n&&t.nrm(0,"CheckIcon",28),2&n&&t.Y8G("styleClass","p-button-icon-left")}function et(n,l){if(1&n&&(t.qex(0),t.DNE(1,q,1,2,"i",26)(2,tt,1,1,"CheckIcon",27),t.bVm()),2&n){const i=t.XpG(6);t.R7$(),t.Y8G("ngIf",i.option("acceptIcon")),t.R7$(),t.Y8G("ngIf",!i.option("acceptIcon"))}}function it(n,l){}function nt(n,l){1&n&&t.DNE(0,it,0,0,"ng-template")}function ot(n,l){if(1&n&&(t.j41(0,"span",29),t.DNE(1,nt,1,0,null,15),t.k0s()),2&n){const i=t.XpG(6);t.R7$(),t.Y8G("ngTemplateOutlet",i.acceptIconTemplate)}}function at(n,l){if(1&n){const i=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(i);const r=t.XpG(5);return t.Njj(r.accept())}),t.DNE(1,et,3,2,"ng-container",11)(2,ot,2,1,"span",25),t.k0s()}if(2&n){const i=t.XpG(5);t.HbH(i.option("acceptButtonStyleClass")),t.Y8G("label",i.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),t.BMQ("aria-label",i.acceptAriaLabel),t.R7$(),t.Y8G("ngIf",!i.acceptIconTemplate),t.R7$(),t.Y8G("ngIf",i.acceptIconTemplate)}}function st(n,l){if(1&n&&(t.j41(0,"div",22),t.DNE(1,W,3,7,"button",23)(2,at,3,7,"button",23),t.k0s()),2&n){const i=t.XpG(4);t.R7$(),t.Y8G("ngIf",i.option("rejectVisible")),t.R7$(),t.Y8G("ngIf",i.option("acceptVisible"))}}function ct(n,l){if(1&n&&(t.DNE(0,S,2,1,"div",8)(1,V,4,2,"div",8),t.j41(2,"div",9,1),t.DNE(4,Y,1,3,"i",10)(5,H,2,1,"ng-container",11)(6,U,1,1,"span",12)(7,_,2,4,"ng-container",11),t.k0s(),t.DNE(8,o,3,1,"div",13)(9,st,3,2,"div",13)),2&n){const i=t.XpG(3);t.Y8G("ngIf",i.headerTemplate),t.R7$(),t.Y8G("ngIf",!i.headerTemplate),t.R7$(3),t.Y8G("ngIf",!i.iconTemplate&&i.option("icon")),t.R7$(),t.Y8G("ngIf",i.iconTemplate),t.R7$(),t.Y8G("ngIf",!i.messageTemplate),t.R7$(),t.Y8G("ngIf",i.messageTemplate),t.R7$(),t.Y8G("ngIf",i.footer||i.footerTemplate),t.R7$(),t.Y8G("ngIf",!i.footer&&!i.footerTemplate)}}function lt(n,l){if(1&n){const i=t.RV6();t.j41(0,"div",5),t.bIt("@animation.start",function(r){t.eBV(i);const f=t.XpG(2);return t.Njj(f.onAnimationStart(r))})("@animation.done",function(r){t.eBV(i);const f=t.XpG(2);return t.Njj(f.onAnimationEnd(r))}),t.DNE(1,w,2,4,"ng-container",6)(2,ct,10,8,"ng-template",null,0,t.C5r),t.k0s()}if(2&n){const i=t.sdS(3),c=t.XpG(2);t.HbH(c.styleClass),t.Y8G("ngClass",t.eq3(9,R,c.rtl))("ngStyle",c.style)("@animation",t.eq3(14,P,t.l_i(11,T,c.transformOptions,c.transitionOptions))),t.BMQ("aria-labelledby",c.getAriaLabelledBy())("aria-modal",!0),t.R7$(),t.Y8G("ngIf",c.headlessTemplate)("ngIfElse",i)}}function rt(n,l){if(1&n&&(t.j41(0,"div",3),t.DNE(1,lt,4,16,"div",4),t.k0s()),2&n){const i=t.XpG();t.HbH(i.maskStyleClass),t.Y8G("ngClass",i.getMaskClass()),t.R7$(),t.Y8G("ngIf",i.visible)}}const pt=(0,g.lY)([(0,g.iF)({transform:"{{transform}}",opacity:0}),(0,g.i0)("{{transition}}",(0,g.iF)({transform:"none",opacity:1}))]),dt=(0,g.lY)([(0,g.i0)("{{transition}}",(0,g.iF)({transform:"{{transform}}",opacity:0}))]);let mt=(()=>{class n{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(i){this._style=i,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(i){switch(this._position=i,i){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}onHide=new t.bkB;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"header":this.headerTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;case"message":this.messageTemplate=i.template;break;case"icon":this.iconTemplate=i.template;break;case"rejecticon":this.rejectIconTemplate=i.template;break;case"accepticon":this.acceptIconTemplate=i.template;break;case"headless":this.headlessTemplate=i.template}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=(0,v._Y)();confirmationOptions;translationSubscription;constructor(i,c,r,f,k,ft,gt){this.el=i,this.renderer=c,this.confirmationService=r,this.zone=f,this.cd=k,this.config=ft,this.document=gt,this.subscription=this.confirmationService.requireConfirmation$.subscribe(K=>{K?K.key===this.key&&(this.confirmation=K,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new t.bkB,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new t.bkB,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return null!==this.header?(0,v._Y)()+"_header":null}option(i){const c=this.confirmationOptions||this;if(c.hasOwnProperty(i))return c[i]}onAnimationStart(i){if("visible"===i.toState){this.container=i.element,this.wrapper=this.container?.parentElement,this.contentContainer=b.D.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const c=this.getElementToFocus();c&&c.focus()}}onAnimationEnd(i){"void"===i.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return b.D.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return b.D.findSingle(this.container,".p-confirm-dialog-reject");case"close":return b.D.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.wrapper):b.D.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&b.D.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",i=>{this.wrapper&&this.wrapper.isSameNode(i.target)&&this.close(i)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&b.D.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let i="";for(let c in this.breakpoints)i+=`\n                    @media screen and (max-width: ${c}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[c]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=i}}close(i){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(h.TJ.CANCEL),this.hide(h.TJ.CANCEL),i.preventDefault()}hide(i){this.onHide.emit(i),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(v.Q$.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let i={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return i[this.getPositionClass().toString()]=!0,i}getPositionClass(){const c=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return c?`p-dialog-${c}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",c=>{if(27==c.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===v.Q$.get(this.container)&&this.visible&&this.close(c),9===c.which&&this.focusTrap){c.preventDefault();let r=b.D.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let f=r.indexOf(r[0].ownerDocument.activeElement);c.shiftKey?-1==f||0===f?r[r.length-1].focus():r[f-1].focus():-1==f||f===r.length-1?r[0].focus():r[f+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&v.Q$.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(h.TJ.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(h.TJ.REJECT),this.hide(h.TJ.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(h.Yj.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(h.Yj.REJECT)}static \u0275fac=function(c){return new(c||n)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(h.td),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(h.r1),t.rXU(C.qQ))};static \u0275cmp=t.VBU({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(c,r,f){if(1&c&&(t.wni(f,h.wi,5),t.wni(f,h.Ei,4)),2&c){let k;t.mGM(k=t.lsd())&&(r.footer=k.first),t.mGM(k=t.lsd())&&(r.templates=k)}},viewQuery:function(c,r){if(1&c&&t.GBs(G,5),2&c){let f;t.mGM(f=t.lsd())&&(r.contentViewChild=f.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:O,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(c,r){1&c&&(t.NAR(M),t.DNE(0,rt,2,4,"div",2)),2&c&&t.Y8G("ngIf",r.maskVisible)},dependencies:()=>[C.YU,C.bT,C.T3,C.B3,j._f,I.n,N.A,x.S],styles:["@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}\n"],encapsulation:2,data:{animation:[(0,g.hZ)("animation",[(0,g.kY)("void => visible",[(0,g.sM)(pt)]),(0,g.kY)("visible => void",[(0,g.sM)(dt)])])]},changeDetection:0})}return n})(),_t=(()=>{class n{static \u0275fac=function(c){return new(c||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[C.MD,j.tm,I.Z,N.A,x.S,j.tm,h.Gg]})}return n})()}}]);